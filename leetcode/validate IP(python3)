class Solution:
    def validIPAddress(self, IP: str) -> str:
        parts_ipv4=IP.split('.')
        if(len(parts_ipv4)==4):
            for x in parts_ipv4:
                if x=='':
                    return 'Neither'
                if (len(x)>1 and x[0]=='0') or x[0]=='-' or x[0]=='+':
                    return 'Neither'
                try:
                    num=int(x)
                    if(num>255 or num<0):
                        return 'Neither'
                except ValueError:
                    return 'Neither'
            return 'IPv4'
        else:
            parts_ipv6=IP.split(':')
            if(len(parts_ipv6)!=8):
                return 'Neither'
            for x in parts_ipv6:
                if x=='':
                    return 'Neither'
                if(len(x)>4):
                    return 'Neither'
                for char in x:
                    if all([ord(char) not in range(48,58),ord(char) not in range(65,71),ord(char) not in range(97,103)]):
                        return 'Neither'
                        
            return 'IPv6'
                
        
        
